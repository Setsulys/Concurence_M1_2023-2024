package fr.uge.exo2;

import java.util.List;

public class SecretSantaMain {
	public static void main(String[] args) {
        var secretSanta = new SecretSanta(5, List.of(0, 1, 3, 4, 2));
        int[] waitingTimes = {500, 1000, 1500, 2000, 2500};
        for (var id = 0; id < waitingTimes.length; id++) {
            var waitingTime = waitingTimes[id];
            Thread.ofPlatform().name("Thread " + id).start(() -> {
                try {
                    Thread.sleep(waitingTime);
                    var currentThreadName = Thread.currentThread().getName();
                    System.out.println(currentThreadName + " received " + secretSanta.submit(currentThreadName));
                } catch (InterruptedException e) {
                    throw new AssertionError(e);
                }
            });
        }
    }  
}
