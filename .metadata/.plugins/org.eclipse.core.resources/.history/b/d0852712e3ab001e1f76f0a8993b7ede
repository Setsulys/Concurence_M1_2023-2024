package fr.uge.exam.exo3;

import java.lang.invoke.MethodHandles;
import java.lang.invoke.VarHandle;

public class MaxRecorderOne {

	private volatile int max;
	private static final VarHandle MAX_HANDLE;
	
	static {
		var lookup = MethodHandles.lookup();
		try {
			MAX_HANDLE = lookup.findVarHandle(MaxRecorderOne.class, "max", int.class);
		}catch(NoSuchFieldException | IllegalAccessException e) {
			throw new AssertionError(e);
		}
	}
	
	public MaxRecorderOne(int value) {
		if(value < 0) {
			throw new IllegalArgumentException();
		}
		this.max = value;
	}
}
